{"version":3,"file":"game.min.js","sources":["game.js"],"names":["Grid","this","grid","InputManager","events","window","navigator","msPointerEnabled","eventTouchstart","eventTouchmove","eventTouchend","listen","HTMLActuator","gameContainer","document","querySelector","gameContainerInner","tileContainer","Tile","position","value","x","y","firedFrom","fireDirection","element_id","previousValue","nextValue","GameManager","size","Actuator","StorageManager","inputManager","storagemanager","actuator","startNumber","identity","on","restart","bind","setup","lastTime","vendors","length","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","addTile","tile","push","removeTile","newGrid","forEach","slice","findTileById","elementId","tilet","findTileByPosition","getSplitElements","directions","corner","isCorner","makeChildTiles","center","isCenter","edge","isEdge","tiles","initPosition","childValue","splitValue","direction","initialValue","parts","parseInt","floor","right","down","left","up","top","event","stopPropagation","preventDefault","emit","data","console","log","callbacks","bindButtonPress","selector","fn","button","addEventListener","fireTile","parent","init","nextPosition","findNextPosition","eatUp","tilePresentThere","moveTile","dir","toMerge","i","wrapper","createElement","inner","clicker","setAttribute","textContent","appendChild","previousPosition","positionClass","classes","valueClass","applyClasses","uniqueIdentity","addIdentity","split","iswrapper","toString","join","mergeTiles","firstTile","secondTile","tileId","tileWrapper","getElementById","removeElement","remove","tileElement","updateClasses","applyValue","classToUpdate","self","elementClassList","className","savePosition","updatePosition","serialize","fireIt","j","target","dataset","splitElements","game"],"mappings":"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"}