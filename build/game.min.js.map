{"version":3,"file":"game.min.js","sources":["game.js"],"names":["Grid","this","grid","InputManager","events","window","navigator","msPointerEnabled","eventTouchstart","eventTouchmove","eventTouchend","listen","HTMLActuator","gameContainer","document","querySelector","gameContainerInner","tileContainer","Tile","position","value","x","y","firedFrom","fireDirection","element_id","GameManager","size","Actuator","StorageManager","inputManager","storagemanager","actuator","startNumber","identity","on","restart","bind","setup","lastTime","vendors","length","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","addTile","tile","push","removeTile","newGrid","forEach","slice","findTileById","elementId","tilet","findTileByPosition","getSplitElements","directions","corner","isCorner","makeChildTiles","center","isCenter","edge","isEdge","tiles","initPosition","childValue","splitValue","direction","initialValue","parts","parseInt","floor","right","down","left","up","top","event","stopPropagation","preventDefault","emit","data","console","log","callbacks","bindButtonPress","selector","fn","button","addEventListener","fireTile","parent","init","nextPosition","findNextPosition","eatUp","tilePresentThere","moveTile","dir","toMerge","i","wrapper","createElement","inner","clicker","setAttribute","textContent","appendChild","previousPosition","positionClass","classes","valueClass","applyClasses","uniqueIdentity","addIdentity","split","iswrapper","toString","join","mergeTiles","firstTile","secondTile","tileId","tileWrapper","getElementById","removeElement","remove","tileElement","updateClasses","classToUpdate","self","elementClassList","className","savePosition","updatePosition","serialize","fireIt","j","target","dataset","splitElements","game"],"mappings":"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"}