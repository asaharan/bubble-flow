{"version":3,"file":"game.min.js","sources":["game.js"],"names":["StorageManager","this","prefix","localStorage","window","Grid","grid","InputManager","events","navigator","msPointerEnabled","eventTouchstart","eventTouchmove","eventTouchend","listen","HTMLActuator","gameContainer","document","querySelector","gameContainerInner","tileContainer","Tile","position","value","x","y","firedFrom","fireDirection","element_id","previousValue","nextValue","GameManager","size","Actuator","inputManager","storageManager","actuator","startNumber","identity","fixTile","on","restart","bind","setup","prototype","set","what","clearContainer","addTile","tile","push","removeTile","id","newGrid","forEach","slice","findTileById","elementId","tilet","findTileByPosition","getSplitElements","directions","corner","isCorner","makeChildTiles","center","isCenter","edge","isEdge","tiles","initPosition","childValue","splitValue","direction","initialValue","parts","parseInt","Math","floor","right","down","left","up","event","stopPropagation","preventDefault","emit","callback","data","callbacks","bindButtonPress","selector","fn","button","addEventListener","fireTile","parent","init","nextPosition","findNextPosition","eatUp","tilePresentThere","moveTile","textContent","dir","toMerge","i","newTile","wrapper","createElement","inner","clicker","setAttribute","appendChild","previousPosition","positionClass","classes","valueClass","applyClasses","uniqueIdentity","addIdentity","split","element","iswrapper","toString","join","mergeTiles","firstTile","secondTile","tileId","tileWrapper","getElementById","removeElement","requestAnimationFrame","remove","tileElement","updateClasses","applyValue","classToUpdate","self","elementClassList","className","savePosition","updatePosition","serialize","fireIt","isFixed","j","setFixedTile","stylesheetId","doesStyleSheetExist","undefined","parentNode","removeChild","getRandomPosition","stylesheet","random","console","log","target","dataset","splitElements","game"],"mappings":"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"}